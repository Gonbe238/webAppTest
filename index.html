<!DOCTYPE html>
<html>

<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100..900&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <title>Agricola_Counter</title>
    <style>
        /* CSSを書くところ */
        body {
            font-family: "Noto Sans JP"
        }

        footer {
            text-align: right;
        }

        .flex {
            display: flex;
            padding: 10px;
            align-items: flex-start;
        }

        .flex>div {
            margin: 0px;
            padding: 10px;
        }

        .glow {
            flex-grow: 1;
        }

        .rotate90 {
            transform: rotate(90deg);
        }

        .rotate270 {
            transform: rotate(270deg);
        }

        .triming {
            width: 40px;
            height: 40px;
            object-fit: cover;
        }

        p.heading1 {
            font-size: 2em;
            font-weight: bold;
        }

        div.autoTopBottom {
            margin-top: auto !important;
            margin-bottom: auto !important;
        }

        div.radioVertical>label {
            display: block;
            padding: 5px;
            cursor: pointer;
        }

        div.radioVertical>label>input {
            margin-right: 5px;
            cursor: pointer;
        }

        button.round {
            color: black;
            /* 文字色 */
            background-color: whitesmoke;
            /* 背景色 */
            padding: 2px 4px;
            /* パディング */
            text-align: center;
            /* 文字のアライメント */
            text-decoration: none;
            /* 文字装飾 */
            display: inline-block;
            /* ボタンの表示方法 */
            font-size: 0.8em;
            /* フォントサイズ */
            margin: 0px 4px;
            /* 外側の余白 */
            cursor: pointer;
            /* カーソル */
            border: 1px outset black;
            /* ボーダー */
            border-radius: 5px;
            /* 20pxの角丸 */
        }

        table.setWidth {
            white-space: nowrap;
            font-size: 1.8em;
        }

        table.setWidth td:nth-of-type(-n+2) {
            width: 4.5em;
        }

        table.setWidth * {
            vertical-align: middle;
        }

        /* ボタンエリアの書式 */
        td.buttonArea {
            text-align: center;
        }

        td.buttonArea div {
            width: 100% !important;
            padding: 2px !important;
            display: flex;
            justify-content: center;
        }

        td.buttonArea button {
            color: white;
            /* 文字色 */
            padding: 0px 2px;
            /* パディング */
            text-align: center;
            /* 文字のアライメント */
            text-decoration: none;
            /* 文字装飾 */
            display: inline-block;
            /* ボタンの表示方法 */
            font-size: 0.8em;
            /* フォントサイズ */
            margin: 0px 0px;
            /* 外側の余白 */
            cursor: pointer;
            /* カーソル */
            border: none;
            /* ボーダーなし */
            border-radius: 5px;
            /* 20pxの角丸 */
            min-width: 1em;
        }

        /* ストックボタンの書式 */
        button.stock {
            font-weight: bold;
            /* 文字ボールド */
            color: white;
            /* 文字色 */
            padding: 0px 40px !important;
            /* パディング */
            text-align: center;
            /* 文字のアライメント */
            text-decoration: none;
            /* 文字装飾 */
            display: inline-block;
            /* ボタンの表示方法 */
            font-size: 1.8em !important;
            /* フォントサイズ */
            margin: 0px 20px !important;
            /* 外側の余白 */
            cursor: pointer;
            /* カーソル */
            border: none;
            /* ボーダーなし */
            border-radius: 5px;
            /* 5pxの角丸 */
            min-width: auto !important;
        }

        /* 木エリア用書式 */
        td.woodBold {
            color: white;
            background-color: forestgreen;
            text-align: center;
        }

        tr.wood {
            color: black;
            background-color: darkseagreen;
        }

        tr.wood button {
            background-color: forestgreen;
        }

        /* レンガエリア用書式 */
        td.clayBold {
            color: white;
            background-color: brown;
            text-align: center;
        }

        tr.clay {
            color: black;
            background-color: burlywood;
        }

        tr.clay button {
            background-color: brown;
        }

        /* 石エリア用書式 */
        td.stoneBold {
            color: white;
            background-color: black;
            text-align: center;
        }

        tr.stone {
            color: black;
            background-color: lightgray;
        }

        tr.stone button {
            background-color: black;
        }

        /* 葦エリア用書式 */
        td.reedBold {
            color: black;
            background-color: whitesmoke;
            text-align: center;
        }

        tr.reed {
            color: black;
            background-color: white;
        }

        tr.reed button {
            color: black;
            background-color: whitesmoke;
        }

        /* 家畜エリア用書式 */
        td.petBold {
            color: white;
            background-color: dodgerblue;
            text-align: center;
        }

        tr.pet {
            color: black;
            background-color: lightblue;
        }

        tr.pet button {
            background-color: dodgerblue;
        }

        /* 飯エリア用書式 */
        td.foodBold {
            color: white;
            background-color: goldenrod;
            text-align: center;
        }

        tr.food {
            color: black;
            background-color: palegoldenrod;
        }

        tr.food button {
            background-color: goldenrod;
        }
    </style>
</head>

<body>

    <!--メインページ-->
    <div class="flex">
        <div id="Round" class="glow">
            <p class="heading1">
                <button class="round" onclick="previousRound();"><</button>
                Round
                <span id="roundCount">1</span>
                <button class="round" onclick="nextRound();">Next ></button>
            </p>
        </div>
        <div class="radioVertical">
            <label><input type="radio" name="players" id="2Players" onchange="changePlayerCount(this.id)">2 Players</label>
            <label><input type="radio" name="players" id="3Players" onchange="changePlayerCount(this.id)">3 Players</label>
            <label><input type="radio" name="players" id="4Players" onchange="changePlayerCount(this.id)" checked="checked">4 Players</label>
        </div>
    </div>
    <div id="log"></div>

    <div class="flex">
        <div>
            <table class="setWidth" border>
                <!--木エリア-->
                <tr class="wood">
                    <td class="woodBold" rowspan="3">
                        <img class="rotate270" width="50" height="50" src="https://img.icons8.com/ios-filled/50/FFFFFF/wood.png" alt="wood" /><br>
                        木材
                    </td>
                    <td>森林</td>
                    <td class="buttonArea">
                        <div>
                            <button id="wood3Stock-" onclick="changeStock(this.id)">-</button>
                            <button class="stock" id="wood3Stock" onclick="resetStock(this.id);">3</button>
                            <button id="wood3Stock+" onclick="changeStock(this.id)">+</button>
                        </div>
                    </td>
                </tr>
                <tr class="wood">
                    <td>小さな森</td>
                    <td class="buttonArea">
                        <div>
                            <button id="wood2Stock-" onclick="changeStock(this.id)">-</button>
                            <button class="stock" id="wood2Stock" onclick="resetStock(this.id);">2</button>
                            <button id="wood2Stock+" onclick="changeStock(this.id)">+</button>
                        </div>
                    </td>
                </tr>
                <tr class="wood">
                    <td>雑木林</td>
                    <td class="buttonArea">
                        <div>
                            <button id="wood1Stock-" onclick="changeStock(this.id)">-</button>
                            <button class="stock" id="wood1Stock" onclick="resetStock(this.id);">1</button>
                            <button id="wood1Stock+" onclick="changeStock(this.id)">+</button>
                        </div>
                    </td>
                </tr>
                <!--葦エリア-->
                <tr class="reed">
                    <td class="reedBold">
                        <img width="48" height="48" src="https://img.icons8.com/ios-filled/50/000000/hay.png" alt="hay" /><br>
                        葦
                    </td>
                    <td>葦原</td>
                    <td class="buttonArea">
                        <div>
                            <button id="reedStock-" onclick="changeStock(this.id)">-</button>
                            <button class="stock" id="reedStock" onclick="resetStock(this.id);">1</button>
                            <button id="reedStock+" onclick="changeStock(this.id)">+</button>
                        </div>
                    </td>
                </tr>
                <!--レンガエリア-->
                <tr class="clay">
                    <td class="clayBold" rowspan="2">
                        <img width="50" height="50" src="https://img.icons8.com/ios-filled/50/FFFFFF/block.png" alt="block" /><br>
                        レンガ
                    </td>
                    <td>窪地</td>
                    <td class="buttonArea">
                        <div>
                            <button id="clay2Stock-" onclick="changeStock(this.id)">-</button>
                            <button class="stock" id="clay2Stock" onclick="resetStock(this.id);">2</button>
                            <button id="clay2Stock+" onclick="changeStock(this.id)">+</button>
                        </div>
                    </td>
                </tr>
                <tr class="clay">
                    <td>粘土抗</td>
                    <td class="buttonArea">
                        <div>
                            <button id="clay1Stock-" onclick="changeStock(this.id)">-</button>
                            <button class="stock" id="clay1Stock" onclick="resetStock(this.id);">1</button>
                            <button id="clay1Stock+" onclick="changeStock(this.id)">+</button>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        <div>
            <table border class="setWidth">
                <!--石エリア-->
                <tr class="stone">
                    <td class="stoneBold" rowspan="2">
                        <img class="rotate90" width="50" height="50" src="https://img.icons8.com/ios-filled/50/FFFFFF/coal.png" alt="coal" /><br>
                        石材
                    </td>
                    <td>西石 S2</tjd>
                    <td class="buttonArea">
                        <div>
                            <button id="westStoneStock-" onclick="changeStock(this.id)">-</button>
                            <button class="stock" id="westStoneStock" onclick="resetStock(this.id);">-</button>
                            <button id="westStoneStock+" onclick="changeStock(this.id)">+</button>
                        </div>
                    </td>
                </tr>
                <tr class="stone">
                    <td>東石 S4</td>
                    <td class="buttonArea">
                        <div>
                            <button id="eastStoneStock-" onclick="changeStock(this.id)">-</button>
                            <button class="stock" id="eastStoneStock" onclick="resetStock(this.id);">-</button>
                            <button id="eastStoneStock+" onclick="changeStock(this.id)">+</button>
                        </div>
                    </td>
                </tr>
                <!--家畜エリア-->
                <tr class="pet">
                    <td class="petBold" rowspan="3">
                        <img width="50" height="50" src="https://img.icons8.com/ios-filled/50/FFFFFF/farm-2.png" alt="farm-2" /><br>
                        家畜
                    </td>
                    <td>
                        <img width="40" height="40" src="https://img.icons8.com/glyph-neue/64/707070/sheep2.png" alt="sheep2" />
                        羊 S1
                    </td>
                    <td class="buttonArea">
                        <div>
                            <button id="sheepStock-" onclick="changeStock(this.id)">-</button>
                            <button class="stock" id="sheepStock" onclick="resetStock(this.id);">-</button>
                            <button id="sheepStock+" onclick="changeStock(this.id)">+</button>
                        </div>
                    </td>
                </tr>
                <tr class="pet">
                    <td>
                        <img width="42" height="42" src="https://img.icons8.com/sf-black-filled/64/000000/year-of-pig.png" alt="year-of-pig" />
                        猪 S3
                    </td>
                    <td class="buttonArea">
                        <div>
                            <button id="boarStock-" onclick="changeStock(this.id)">-</button>
                            <button class="stock" id="boarStock" onclick="resetStock(this.id);">-</button>
                            <button id="boarStock+" onclick="changeStock(this.id)">+</button>
                        </div>
                    </td>
                </tr>
                <tr class="pet">
                    <td>
                        <img width="42" height="42" src="https://img.icons8.com/sf-regular-filled/48/402010/cow.png" alt="cow" />
                        牛 S4
                    </td>
                    <td class="buttonArea">
                        <div>
                            <button id="cattleStock-" onclick="changeStock(this.id)">-</button>
                            <button class="stock" id="cattleStock" onclick="resetStock(this.id);">-</button>
                            <button id="cattleStock+" onclick="changeStock(this.id)">+</button>
                        </div>
                    </td>
                </tr>
                <!--飯エリア-->
                <tr class="food">
                    <td class="foodBold" rowspan="2">
                        <img width="55" height="55" src="https://img.icons8.com/glyph-neue/64/FFFFFF/meal.png" alt="meal" /><br>
                        食料
                    </td>
                    <td>漁</td>
                    <td class="buttonArea">
                        <div>
                            <button id="foodStock1-" onclick="changeStock(this.id)">-</button>
                            <button class="stock" id="foodStock1" onclick="resetStock(this.id);">1</button>
                            <button id="foodStock1+" onclick="changeStock(this.id)">+</button>
                        </div>
                    </td>
                </tr>
                <tr class="food">
                    <td>小劇場</td>
                    <td class="buttonArea">
                        <div>
                            <button id="foodStock2-" onclick="changeStock(this.id)">-</button>
                            <button class="stock" id="foodStock2" onclick="resetStock(this.id);">1</button>
                            <button id="foodStock2+" onclick="changeStock(this.id)">+</button>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <!--フッター-->
    <footer>
        <p>
            Designed by Gonbe238.
            Icons by <a href="https://icons8.com">Icons8</a>.
        </p>
    </footer>

    <!--スクリプト-->
    <script>
        const roundCount = document.getElementById("roundCount");
        const playerCount = document.getElementById("playerCount");
        const log = document.getElementById("log");
        const wood3Stock = document.getElementById("wood3Stock");
        const wood2Stock = document.getElementById("wood2Stock");
        const wood1Stock = document.getElementById("wood1Stock");
        const clay2Stock = document.getElementById("clay2Stock");
        const clay1Stock = document.getElementById("clay1Stock");
        const westStoneStock = document.getElementById("westStoneStock");
        const eastStoneStock = document.getElementById("eastStoneStock");
        const reedStock = document.getElementById("reedStock");
        const sheepStock = document.getElementById("sheepStock");
        const boarStock = document.getElementById("boarStock");
        const cattleStock = document.getElementById("cattleStock");
        const foodStock1 = document.getElementById("foodStock1");
        const foodStock2 = document.getElementById("foodStock2");
        const player3Element = document.getElementById("3Players");

        function nextRound() {
            roundCount.textContent = Number(roundCount.textContent) + 1;
            if (!(isNaN(wood3Stock.textContent))) {
                wood3Stock.textContent = Number(wood3Stock.textContent) + 3;
            }
            if (!(isNaN(wood2Stock.textContent))) {
                wood2Stock.textContent = Number(wood2Stock.textContent) + 2;
            }
            if (!(isNaN(wood1Stock.textContent))) {
                wood1Stock.textContent = Number(wood1Stock.textContent) + 1;
            }
            if (!(isNaN(clay2Stock.textContent))) {
                if (player3Element.checked) {
                    clay2Stock.textContent = Number(clay2Stock.textContent) + 1;
                }
                else {
                    clay2Stock.textContent = Number(clay2Stock.textContent) + 2;
                }
            }
            if (!(isNaN(clay1Stock.textContent))) {
                clay1Stock.textContent = Number(clay1Stock.textContent) + 1;
            }
            if (!(isNaN(westStoneStock.textContent))) {
                westStoneStock.textContent = Number(westStoneStock.textContent) + 1;
            }
            if (!(isNaN(eastStoneStock.textContent))) {
                eastStoneStock.textContent = Number(eastStoneStock.textContent) + 1;
            }
            if (!(isNaN(reedStock.textContent))) {
                reedStock.textContent = Number(reedStock.textContent) + 1;
            }
            if (!(isNaN(sheepStock.textContent))) {
                sheepStock.textContent = Number(sheepStock.textContent) + 1;
            }
            if (!(isNaN(boarStock.textContent))) {
                boarStock.textContent = Number(boarStock.textContent) + 1;
            }
            if (!(isNaN(cattleStock.textContent))) {
                cattleStock.textContent = Number(cattleStock.textContent) + 1;
            }
            if (!(isNaN(foodStock1.textContent))) {
                foodStock1.textContent = Number(foodStock1.textContent) + 1;
            }
            if (!(isNaN(foodStock2.textContent))) {
                foodStock2.textContent = Number(foodStock2.textContent) + 1;
            }
        }

        function previousRound() {
            roundCount.textContent = Number(roundCount.textContent) - 1;
            if (!(isNaN(wood3Stock.textContent))) {
                wood3Stock.textContent = Number(wood3Stock.textContent) - 3;
            }
            if (!(isNaN(wood2Stock.textContent))) {
                wood2Stock.textContent = Number(wood2Stock.textContent) - 2;
            }
            if (!(isNaN(wood1Stock.textContent))) {
                wood1Stock.textContent = Number(wood1Stock.textContent) - 1;
            }
            if (!(isNaN(clay2Stock.textContent))) {
                if (player3Element.checked) {
                    clay2Stock.textContent = Number(clay2Stock.textContent) - 1;
                }
                else {
                    clay2Stock.textContent = Number(clay2Stock.textContent) - 2;
                }
            }
            if (!(isNaN(clay1Stock.textContent))) {
                clay1Stock.textContent = Number(clay1Stock.textContent) - 1;
            }
            if (!(isNaN(westStoneStock.textContent))) {
                westStoneStock.textContent = Number(westStoneStock.textContent) - 1;
            }
            if (!(isNaN(eastStoneStock.textContent))) {
                eastStoneStock.textContent = Number(eastStoneStock.textContent) - 1;
            }
            if (!(isNaN(reedStock.textContent))) {
                reedStock.textContent = Number(reedStock.textContent) - 1;
            }
            if (!(isNaN(sheepStock.textContent))) {
                sheepStock.textContent = Number(sheepStock.textContent) - 1;
            }
            if (!(isNaN(boarStock.textContent))) {
                boarStock.textContent = Number(boarStock.textContent) - 1;
            }
            if (!(isNaN(cattleStock.textContent))) {
                cattleStock.textContent = Number(cattleStock.textContent) - 1;
            }
            if (!(isNaN(foodStock1.textContent))) {
                foodStock1.textContent = Number(foodStock1.textContent) - 1;
            }
            if (!(isNaN(foodStock2.textContent))) {
                foodStock2.textContent = Number(foodStock2.textContent) - 1;
            }
        }

        function resetStock(id) {
            var thisElement = document.getElementById(id);

            if (isNaN(thisElement.textContent)) {
                thisElement.textContent = 1;
            }
            else {
                thisElement.textContent = 0;
            }
        }

        function changeStock(id) {
            var targetId = id.slice(0, id.length - 1);
            var targetElement = document.getElementById(targetId);
            var plusOrMinus = 0;

            switch (id.slice(-1)) {
                case '+':
                    plusOrMinus = 1;
                    break;

                case '-':
                    plusOrMinus = -1;
                    break;

                default:
                    break;
            }

            if (!(isNaN(targetElement.textContent))) {
                targetElement.textContent = Number(targetElement.textContent) + plusOrMinus;
            }
        }

        function changePlayerCount(selectedPlayerCount) {
            switch (selectedPlayerCount) {
                case '2Players':
                    roundCount.textContent = 1
                    wood3Stock.textContent = 3
                    wood2Stock.textContent = '-'
                    wood1Stock.textContent = 1
                    clay2Stock.textContent = '-'
                    clay1Stock.textContent = 1
                    westStoneStock.textContent = '-'
                    eastStoneStock.textContent = '-'
                    reedStock.textContent = 1
                    sheepStock.textContent = '-'
                    boarStock.textContent = '-'
                    cattleStock.textContent = '-'
                    foodStock1.textContent = 1
                    foodStock2.textContent = '-'
                    break;

                case '3Players':
                    roundCount.textContent = 1
                    wood3Stock.textContent = 3
                    wood2Stock.textContent = 2
                    wood1Stock.textContent = '-'
                    clay2Stock.textContent = 1
                    clay1Stock.textContent = 1
                    westStoneStock.textContent = '-'
                    eastStoneStock.textContent = '-'
                    reedStock.textContent = 1
                    sheepStock.textContent = '-'
                    boarStock.textContent = '-'
                    cattleStock.textContent = '-'
                    foodStock1.textContent = 1
                    foodStock2.textContent = '-'
                    break;

                case '4Players':
                    roundCount.textContent = 1
                    wood3Stock.textContent = 3
                    wood2Stock.textContent = 2
                    wood1Stock.textContent = 1
                    clay2Stock.textContent = 2
                    clay1Stock.textContent = 1
                    westStoneStock.textContent = '-'
                    eastStoneStock.textContent = '-'
                    reedStock.textContent = 1
                    sheepStock.textContent = '-'
                    boarStock.textContent = '-'
                    cattleStock.textContent = '-'
                    foodStock1.textContent = 1
                    foodStock2.textContent = 1
                    break;

                default:
                    log.textContent = 'error';
                    break;
            }
        }

    </script>
</body>

</html>
